{
  "id": "snapshot_1766594849351_dtkm7vc88",
  "approvalId": "approval_1766593146335_84jj8n93d",
  "approvalTitle": "structure.md - プロジェクト構造",
  "version": 2,
  "timestamp": "2025-12-24T16:47:29.349Z",
  "trigger": "approved",
  "status": "pending",
  "content": "# Project Structure\n\n## Directory Organization\n\n```\nwyly-bio/\n├── app-web/                    # Webアプリケーション (Next.js)\n│   ├── app/                    # App Router ページ・レイアウト\n│   │   ├── layout.tsx          # ルートレイアウト\n│   │   ├── page.tsx            # ホームページ\n│   │   └── globals.css         # グローバルスタイル\n│   ├── components/             # UIコンポーネント\n│   │   ├── ui/                 # 汎用UIコンポーネント (shadcn/ui)\n│   │   ├── Feed.tsx            # フィード表示\n│   │   ├── PostCard.tsx        # 投稿カード\n│   │   ├── PostForm.tsx        # 投稿フォーム\n│   │   ├── MapView.tsx         # マップビュー\n│   │   ├── MapViewClient.tsx   # マップビュー（クライアント）\n│   │   ├── CalendarView.tsx    # カレンダービュー\n│   │   ├── ViewSwitcher.tsx    # ビュー切り替え\n│   │   └── Header.tsx          # ヘッダー\n│   ├── data/                   # データ\n│   │   └── mockPosts.ts        # モックデータ\n│   ├── hooks/                  # カスタムフック\n│   ├── lib/                    # ユーティリティ\n│   │   ├── utils.ts            # 汎用ユーティリティ\n│   │   └── leaflet.ts          # Leaflet設定\n│   ├── types/                  # 型定義\n│   │   └── post.ts             # 投稿関連の型\n│   └── public/                 # 静的ファイル\n├── .spec-workflow/             # 仕様・設計ドキュメント\n│   ├── steering/               # ステアリングドキュメント\n│   │   ├── product.md          # プロダクト概要\n│   │   ├── tech.md             # 技術スタック\n│   │   └── structure.md        # プロジェクト構造\n│   └── templates/              # テンプレート\n└── CLAUDE.md                   # Claude Code設定\n```\n\n## Naming Conventions\n\n### Files\n- **Components**: `PascalCase.tsx` (例: `PostCard.tsx`, `MapView.tsx`)\n- **Pages**: `page.tsx` (App Router規約)\n- **Utilities**: `camelCase.ts` (例: `utils.ts`, `leaflet.ts`)\n- **Types**: `camelCase.ts` (例: `post.ts`)\n- **Data**: `camelCase.ts` (例: `mockPosts.ts`)\n\n### Code\n- **Components**: `PascalCase` (例: `PostCard`, `ViewSwitcher`)\n- **Functions**: `camelCase` (例: `getMockPosts`, `handleClick`)\n- **Constants**: `UPPER_SNAKE_CASE` または `camelCase`\n- **Variables**: `camelCase`\n- **Interfaces/Types**: `PascalCase` (例: `Post`, `Author`)\n\n## Import Patterns\n\n### Import Order\n1. React/Next.js コア\n2. 外部ライブラリ\n3. 内部コンポーネント (`@/components/`)\n4. ユーティリティ (`@/lib/`)\n5. 型定義 (`@/types/`)\n6. データ (`@/data/`)\n7. スタイル\n\n### Module/Package Organization\n```typescript\n// パスエイリアス使用 (@/ = app-web/)\nimport { Post } from '@/types/post';\nimport { Button } from '@/components/ui/button';\nimport { mockPosts } from '@/data/mockPosts';\n```\n\n## Code Structure Patterns\n\n### Component Organization\n```typescript\n// 1. imports\nimport { useState } from 'react';\nimport { Post } from '@/types/post';\n\n// 2. types/interfaces (コンポーネント固有)\ninterface Props {\n  post: Post;\n}\n\n// 3. component definition\nexport function PostCard({ post }: Props) {\n  // hooks\n  const [isLiked, setIsLiked] = useState(false);\n\n  // handlers\n  const handleLike = () => { ... };\n\n  // render\n  return ( ... );\n}\n```\n\n### Server vs Client Components\n- **Server Components**: デフォルト、データフェッチやレイアウト\n- **Client Components**: `'use client'` ディレクティブ使用、インタラクティブUI\n- **地図コンポーネント**: SSR非対応のため `dynamic import` with `ssr: false`\n\n## Code Organization Principles\n\n1. **Single Responsibility**: 各コンポーネントは単一の責務を持つ\n2. **Modularity**: 再利用可能な小さなコンポーネントに分割\n3. **Colocation**: 関連するファイルは近くに配置\n4. **Type Safety**: すべてのpropsと状態に型定義\n\n## Module Boundaries\n\n### コンポーネント階層\n- **Page Components**: `app/` 配下、ルーティングとレイアウト\n- **Feature Components**: `components/` 直下、機能単位のコンポーネント\n- **UI Components**: `components/ui/` 配下、汎用UIパーツ\n\n### データフロー\n```\napp/page.tsx (Server Component)\n    └── components/Feed.tsx (Client Component)\n        └── components/PostCard.tsx (Client Component)\n            └── components/ui/Button.tsx (Client Component)\n```\n\n## Code Size Guidelines\n\n- **コンポーネント**: 200行以内を目安\n- **関数**: 50行以内を目安\n- **ファイル**: 300行以内を目安\n- **ネスト深度**: 最大4レベル\n\n## Documentation Standards\n\n- コンポーネントのPropsには型定義を必須とする\n- 複雑なロジックにはインラインコメントを追加\n- 公開APIにはJSDocコメントを推奨\n",
  "fileStats": {
    "size": 5199,
    "lines": 140,
    "lastModified": "2025-12-24T16:18:49.728Z"
  },
  "comments": []
}